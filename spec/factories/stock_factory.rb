FactoryGirl.define do
  factory :stock do
    ticker 'SKX'
    prices []
    trait :with_random_earnings do
      after(:create) do |stock|
        (0..1).each do |y|
          (0..3).each do |q|
            create(:earning, q: 4 - q, y: Date.today.year - y, report: Date.today - q*90 - y*365, eps: rand((0.0-0.25*q-1*y)..(4.0-0.25*q-1*y)).round(2), revenue: rand((250-20*q-80*y)..(400-20*q-80*y)), stock: stock)
          end
        end
      end
    end
    trait :with_random_ticker do
      begin
      a = ["AAL", "AAME", "AAOI", "AAON", "AAPC", "AAPL", "AAVL", "AAWW", "AAXJ", "ABAC", "ABAX", "ABCB", "ABCD", "ABCO", "ABCW", "ABDC", "ABEO", "ABEOW", "ABGB", "ABIO", "ABMD", "ABTL", "ABUS", "ABY", "ACAD", "ACAS", "ACAT", "ACET", "ACFC", "ACGL", "ACHC", "ACHN", "ACIW", "ACLS", "ACNB", "ACOR", "ACPW", "ACRX", "ACSF", "ACST", "ACTA", "ACTG", "ACTS", "ACTX", "ACUR", "ACWI", "ACWX", "ACXM", "ADAP", "ADAT", "ADBE", "ADEP", "ADHD", "ADI", "ADMA", "ADMP", "ADMS", "ADP", "ADRA", "ADRD", "ADRE", "ADRO", "ADRU", "ADSK", "ADTN", "ADUS", "ADXS", "ADXSW", "AEGN", "AEGR", "AEHR", "AEIS", "AEMD", "AEPI", "AERI", "AETI", "AEY", "AEZS", "AFAM", "AFCB", "AFFX", "AFH", "AFMD", "AFOP", "AFSI", "AGEN", "AGFS", "AGFSW", "AGII", "AGIIL", "AGIO", "AGNC", "AGNCB", "AGNCP", "AGND", "AGRX", "AGTC", "AGYS", "AGZD", "AHGP", "AHPI", "AIMC", "AIMT", "AINV", "AIQ", "AIRM", "AIRR", "AIRT", "AIXG", "AKAM", "AKAO", "AKBA", "AKER", "AKRX", "AKTX", "ALCO", "ALDR", "ALDX", "ALGN", "ALGT", "ALIM", "ALKS", "ALLB", "ALLT", "ALNY", "ALOG", "ALOT", "ALQA", "ALRM", "ALSK", "ALTR", "ALTY", "ALXA", "ALXN", "AMAG", "AMAT", "AMBA", "AMBC", "AMBCW", "AMCC", "AMCN", "AMCX", "AMD", "AMDA", "AMED", "AMGN", "AMIC", "AMKR", "AMNB", "AMOT", "AMOV", "AMPH", "AMRB", "AMRI", "AMRK", "AMRN", "AMRS", "AMSC", "AMSF", "AMSG", "AMSGP", "AMSWA", "AMTX", "AMWD", "AMZN", "ANAC", "ANAD", "ANAT", "ANCB", "ANCX", "ANDE", "ANGI", "ANGO", "ANIK", "ANIP", "ANSS", "ANTH", "ANY", "AOSL", "APDN", "APDNW", "APEI", "APIC", "APOG", "APOL", "APPF", "APPS", "APPY", "APRI", "APTO", "APWC", "AQMS", "AQXP", "ARAY", "ARCB", "ARCC", "ARCI", "ARCW", "ARDM", "ARDX", "AREX", "ARGS", "ARIA", "ARII", "ARIS", "ARKR", "ARLP", "ARMH", "ARNA", "AROW", "ARQL", "ARRS", "ARRY", "ARTNA", "ARTW", "ARTX", "ARWA", "ARWAR", "ARWAU", "ARWAW", "ARWR", "ASBB", "ASBI", "ASCMA", "ASEI", "ASFI", "ASMB", "ASML", "ASNA", "ASND", "ASPS", "ASRV", "ASRVP", "ASTC", "ASTE", "ASTI", "ASUR", "ASYS", "ATAI", "ATAX", "ATEC", "ATHN", "ATHX", "ATLC", "ATLO", "ATML", "ATNI", "ATNY", "ATOS", "ATRA", "ATRC", "ATRI", "ATRM", "ATRO", "ATRS", "ATSG", "ATTU", "ATVI", "AUBN", "AUDC", "AUMA", "AUMAU", "AUMAW", "AUPH", "AVAV", "AVEO", "AVGO", "AVGR", "AVHI", "AVID", "AVNU", "AVNW", "AWAY", "AWRE", "AXAS", "AXDX", "AXGN", "AXPW", "AXPWW", "AXTI", "AYA", "AZPN", "BABY", "BAGR", "BAMM", "BANF", "BANFP", "BANR", "BANX", "BASI", "BBBY", "BBC", "BBCN", "BBEP", "BBEPP", "BBGI", "BBLU", "BBOX", "BBP", "BBRG", "BBRY", "BBSI", "BCBP", "BCLI", "BCOM", "BCOR", "BCOV", "BCPC", "BCRX", "BDBD", "BDCV", "BDE", "BDGE", "BDMS", "BDSI", "BEAT", "BEAV", "BEBE", "BECN", "BELFA", "BELFB", "BFIN", "BGCP", "BGFV", "BHAC", "BHACR", "BHACU", "BHACW", "BHBK", "BIB", "BICK", "BIDU", "BIIB", "BIND", "BIOC", "BIOD", "BIOL", "BIOS", "BIS", "BITI", "BJRI", "BKCC", "BKEP", "BKEPP", "BKMU", "BKSC", "BLBD", "BLCM", "BLDP", "BLDR", "BLFS", "BLIN", "BLKB", "BLMN", "BLMT", "BLPH", "BLRX", "BLUE", "BLVDU", "BMRC", "BMRN", "BMTC", "BNCL", "BNCN", "BNDX", "BNFT", "BNSO", "BNTC", "BNTCW", "BOBE", "BOCH", "BOFI", "BOJA", "BOKF", "BONA", "BONT", "BOOM", "BOSC", "BOTA", "BOTJ", "BPFH", "BPFHP", "BPFHW", "BPMC", "BPOP", "BPOPM", "BPOPN", "BPTH", "BRCD", "BRCM", "BREW", "BRID", "BRKL", "BRKR", "BRKS", "BSET", "BSF", "BSFT", "BSPM", "BSQR", "BSRR", "BSTC", "BUFF", "BUR", "BUSE", "BV", "BVA", "BVSN", "BVXV", "BVXVW", "BWEN", "BWFG", "BWINA", "BWINB", "BWLD", "BYBK", "BYFC", "BYLK", "BZUN", "CA", "CAAS", "CAC", "CACB", "CACC", "CACQ", "CADC", "CADT", "CADTR", "CADTU", "CADTW", "CAFD", "CAKE", "CALA", "CALD", "CALI", "CALL", "CALM", "CAMB", "CAMBU", "CAMBW", "CAMP", "CAMT", "CAPN", "CAPNW", "CAPR", "CAPX", "CAR", "CARA", "CARB", "CARO", "CART", "CARV", "CARZ", "CASH", "CASI", "CASM", "CASS", "CASY", "CATB", "CATM", "CATY", "CATYW", "CAVM", "CBAK", "CBAN", "CBAY", "CBF", "CBFV", "CBIO", "CBLI", "CBMG", "CBMX", "CBNJ", "CBNK", "CBOE", "CBPO", "CBRL", "CBSH", "CBSHP", "CBYL", "CCBG", "CCCL", "CCCR", "CCD", "CCIH", "CCLP", "CCMP", "CCNE", "CCOI", "CCRN", "CCUR", "CCXI", "CDC", "CDK", "CDL", "CDNA", "CDNS", "CDOR", "CDORO", "CDORP", "CDRB", "CDTI", "CDTX", "CDW", "CDXS", "CDZI", "CECE", "CECO", "CELG", "CELGZ", "CEMI", "CEMP", "CENT", "CENTA", "CENX", "CERE", "CERN", "CERS", "CERU", "CETC", "CETV", "CETX", "CEVA", "CFA", "CFBK", "CFFI", "CFFN", "CFGE", "CFMS", "CFNB", "CFNL", "CFO", "CFRX", "CFRXW", "CFRXZ", "CG", "CGEN", "CGIX", "CGNT", "CGNX", "CGO", "CHCI", "CHCO", "CHDN", "CHEF", "CHEK", "CHEKW", "CHEV", "CHFC", "CHFN", "CHI", "CHKE", "CHKP", "CHLN", "CHMA", "CHMG", "CHNR", "CHOP", "CHRS", "CHRW", "CHSCL", "CHSCM", "CHSCN", "CHSCO", "CHSCP", "CHTR", "CHUY", "CHW", "CHY", "CIBR", "CID", "CIDM", "CIFC", "CIGI", "CIL", "CINF", "CISG", "CIVB", "CIVBP", "CIZ", "CIZN", "CJJD", "CKEC", "CLBH", "CLBS", "CLCD", "CLCT", "CLDN", "CLDX", "CLFD", "CLIR", "CLLS", "CLMS", "CLMT", "CLNE", "CLNT", "CLRB", "CLRBW", "CLRO", "CLRX", "CLSN", "CLUB", "CLVS", "CLWT", "CMCO", "CMCSA", "CMCSK", "CMCT", "CME", "CMFN", "CMLS", "CMPR", "CMRX", "CMTL", "CNAT", "CNBKA", "CNCE", "CNET", "CNFR", "CNIT", "CNLM", "CNLMR", "CNLMU", "CNLMW", "CNMD", "CNOB", "CNSL", "CNTF", "CNTY", "CNV", "CNXR", "CNYD", "COB", "COBZ", "COHR", "COHU", "COKE", "COLB", "COLL", "COLM", "COMM", "COMT", "CONE", "CONN", "COOL", "CORE", "CORI", "CORT", "COSI", "COST", "COVS", "COWN", "COWNL", "CPAH", "CPHC", "CPHD", "CPHR", "CPIX", "CPLA", "CPLP", "CPRT", "CPRX", "CPSH", "CPSI", "CPSS", "CPST", "CPTA", "CPXX", "CRAI", "CRAY", "CRBP", "CRDC", "CRDS", "CRDT", "CREE", "CREG", "CRESY", "CRIS", "CRME", "CRMT", "CRNT", "CROX", "CRTN", "CRTO", "CRUS", "CRVL", "CRWN", "CRWS", "CRZO", "CSA", "CSAL", "CSB", "CSBK", "CSBR", "CSCD", "CSCO", "CSF", "CSFL", "CSGP", "CSGS", "CSII", "CSIQ", "CSOD", "CSPI", "CSQ", "CSTE", "CSUN", "CSWC", "CSWI", "CTAS", "CTBI", "CTCM", "CTCT", "CTG", "CTHR", "CTIB", "CTIC", "CTRE", "CTRL", "CTRN", "CTRP", "CTRV", "CTSH", "CTSO", "CTWS", "CTXS", "CU", "CUBA", "CUBN", "CUI", "CUNB", "CUR", "CUTR", "CVBF", "CVCO", "CVCY", "CVGI", "CVGW", "CVLT", "CVLY", "CVTI", "CVV", "CWAY", "CWBC", "CWCO", "CWST", "CXDC", "CXRX", "CXSE", "CY", "CYAD", "CYAN", "CYBE", "CYBR", "CYBX", "CYCC", "CYCCP", "CYHHZ", "CYNA", "CYNO", "CYOU", "CYRN", "CYRX", "CYRXW", "CYTK", "CYTR", "CYTX", "CZFC", "CZNC", "CZR", "CZWI", "DAEG", "DAIO", "DAKT", "DARA", "DATE", "DAVE", "DAX", "DBVT", "DCIX", "DCOM", "DCTH", "DELT", "DELTW", "DENN", "DEPO", "DERM", "DEST", "DFRG", "DFVL", "DFVS", "DGAS", "DGICA", "DGICB", "DGII", "DGLD", "DGLY", "DGRE", "DGRS", "DGRW", "DHIL", "DHRM", "DHXM", "DIOD", "DISCA", "DISCB", "DISCK", "DISH", "DJCO", "DLBL", "DLBS", "DLHC", "DLTR", "DMLP", "DMND", "DMRC", "DNAI", "DNBF", "DNKN", "DORM", "DOX", "DPRX", "DRAD", "DRAM", "DRNA", "DRRX", "DRWI", "DRWIW", "DRYS", "DSCI", "DSCO", "DSGX", "DSKX", "DSKY", "DSLV", "DSPG", "DSWL", "DTEA", "DTLK", "DTSI", "DTUL", "DTUS", "DTYL", "DTYS", "DVAX", "DVCR", "DWA", "DWAT", "DWCH", "DWSN", "DXCM", "DXGE", "DXJS", "DXKW", "DXLG", "DXM", "DXPE", "DXPS", "DXYN", "DYAX", "DYNT", "DYSL", "EA", "EAC", "EACQ", "EACQU", "EACQW", "EAGLU", "EARS", "EBAY", "EBIO", "EBIX", "EBMT", "EBSB", "EBTC", "ECACU", "ECHO", "ECOL", "ECPG", "ECTE", "ECYT", "EDAP", "EDGW", "EDUC", "EEFT", "EEI", "EEMA", "EEML", "EFII", "EFOI", "EFSC", "EFUT", "EGAN", "EGBN", "EGHT", "EGLE", "EGLT", "EGOV", "EGRX", "EGT", "EHTH", "EIGI", "ELEC", "ELECU", "ELECW", "ELGX", "ELNK", "ELON", "ELOS", "ELRC", "ELSE", "ELTK", "EMCB", "EMCF", "EMCG", "EMCI", "EMIF", "EMITF", "EMKR", "EML", "EMMS", "EMMSP", "ENDP", "ENFC", "ENG", "ENOC", "ENPH", "ENSG", "ENT", "ENTA", "ENTG", "ENTL", "ENVI", "ENZN", "ENZY", "EPAX", "EPAY", "EPIQ", "EPIX", "EPRS", "EPZM", "EQFN", "EQIX", "ERI", "ERIC", "ERIE", "ERII", "EROC", "ERS", "ERW", "ESBK", "ESCA", "ESCR", "ESCRP", "ESEA", "ESES", "ESGR", "ESIO", "ESLT", "ESMC", "ESND", "ESPR", "ESRX", "ESSA", "ESSX", "ESXB", "ETFC", "ETRM", "ETSY", "EUFN", "EVAR", "EVBS", "EVEP", "EVK", "EVLV", "EVOK", "EVOL", "EWBC", "EXA", "EXAC", "EXAS", "EXEL", "EXFO", "EXLP", "EXLS", "EXPD", "EXPE", "EXPO", "EXTR", "EXXI", "EYEG", "EYEGW", "EYES", "EZCH", "EZPW", "FALC", "FANG", "FARM", "FARO", "FAST", "FATE", "FB", "FBIO", "FBIZ", "FBMS", "FBNC", "FBNK", "FBRC", "FBSS", "FBZ", "FCA", "FCAN", "FCAP", "FCBC", "FCCO", "FCCY", "FCEL", "FCFP", "FCFS", "FCLF", "FCNCA", "FCS", "FCSC", "FCTY", "FCVA", "FDEF", "FDIV", "FDML", "FDUS", "FEIC", "FEIM", "FELE", "FEMB", "FENX", "FES", "FEUZ", "FEYE", "FFBC", "FFBCW", "FFHL", "FFIC", "FFIN", "FFIV", "FFKT", "FFNM", "FFNW", "FFWM", "FGEN", "FGM", "FHCO", "FHK", "FIBK", "FINL", "FISI", "FISV", "FITB", "FITBI", "FIVE", "FIVN", "FIZZ", "FJP", "FKO", "FKU", "FLAG", "FLAT", "FLDM", "FLEX", "FLIC", "FLIR", "FLKS", "FLL", "FLML", "FLWS", "FLXN", "FLXS", "FMB", "FMBH", "FMBI", "FMER", "FMI", "FMNB", "FNBC", "FNFG", "FNGN", "FNHC", "FNJN", "FNLC", "FNSR", "FNTC", "FNTCU", "FNTCW", "FNWB", "FOGO", "FOLD", "FOMX", "FONE", "FONR", "FORD", "FORM", "FORR", "FORTY", "FOSL", "FOX", "FOXA", "FOXF", "FPRX", "FPXI", "FRAN", "FRBA", "FRBK", "FRED", "FREE", "FRGI", "FRME", "FRP", "FRPH", "FRPT", "FRSH", "FSAM", "FSBK", "FSBW", "FSC", "FSCFL", "FSFG", "FSFR", "FSGI", "FSLR", "FSNN", "FSTR", "FSV", "FSYS", "FSZ", "FTCS", "FTD", "FTEK", "FTGC", "FTHI", "FTLB", "FTNT", "FTR", "FTRPR", "FTSL", "FTSM", "FTW", "FUEL", "FULL", "FULLL", "FULT", "FUNC", "FUND", "FV", "FWM", "FWP", "FWRD", "FXCB", "FXEN", "FXENP", "GABC", "GAI", "GAIA", "GAIN", "GAINN", "GAINO", "GAINP", "GALE", "GALT", "GALTU", "GALTW", "GAME", "GARS", "GASS", "GBCI", "GBDC", "GBIM", "GBLI", "GBLIZ", "GBNK", "GBSN", "GBT", "GCBC", "GCVRZ", "GDEF", "GDEN", "GENC", "GENE", "GEOS", "GERN", "GEVO", "GFED", "GFN", "GFNCP", "GFNSL", "GGAC", "GGACR", "GGACU", "GGACW", "GGAL", "GHDX", "GIFI", "GIGA", "GIGM", "GIII", "GILD", "GILT", "GK", "GLAD", "GLADO", "GLBL", "GLBS", "GLBZ", "GLDC", "GLDD", "GLDI", "GLMD", "GLNG", "GLPG", "GLPI", "GLRE", "GLRI", "GLUU", "GLYC", "GMAN", "GMCR", "GMLP", "GNBC", "GNCA", "GNCMA", "GNMA", "GNMK", "GNOW", "GNTX", "GNVC", "GOGL", "GOGO", "GOLD", "GOMO", "GOOD", "GOODN", "GOODO", "GOODP", "GOOG", "GOOGL", "GPAC", "GPACU", "GPACW", "GPIA", "GPIAU", "GPIAW", "GPIC", "GPOR", "GPP", "GPRE", "GPRO", "GRBK", "GRFS", "GRID", "GRIF", "GRMN", "GROW", "GRPN", "GRSHU", "GRVY", "GSBC", "GSIG", "GSIT", "GSM", "GSOL", "GSVC", "GT", "GTIM", "GTLS", "GTWN", "GTXI", "GUID", "GULF", "GULTU", "GURE", "GWGH", "GWPH", "GYRO", "HA", "HABT", "HAFC", "HAIN", "HALL", "HALO", "HART", "HAS", "HAWK", "HAYN", "HBAN", "HBANP", "HBCP", "HBHC", "HBHCL", "HBIO", "HBK", "HBMD", "HBNC", "HBP", "HCAC", "HCACU", "HCACW", "HCAP", "HCAPL", "HCBK", "HCCI", "HCKT", "HCOM", "HCSG", "HDNG", "HDP", "HDRA", "HDRAR", "HDRAU", "HDRAW", "HDS", "HDSN", "HEAR", "HEES", "HELE", "HEOP", "HFBC", "HFBL", "HFFC", "HFWA", "HGSH", "HIBB", "HIFS", "HIHO", "HIIQ", "HILL", "HIMX", "HKTV", "HLG", "HLIT", "HMHC", "HMIN", "HMNF", "HMNY", "HMPR", "HMST", "HMSY", "HMTV", "HNH", "HNNA", "HNRG", "HNSN", "HOFT", "HOLI", "HOLX", "HOMB", "HOTR", "HOTRW", "HOVNP", "HPJ", "HQCL", "HQY", "HRMN", "HRMNU", "HRMNW", "HRTX", "HRZN", "HSGX", "HSIC", "HSII", "HSKA", "HSNI", "HSON", "HSTM", "HTBI", "HTBK", "HTBX", "HTCH", "HTGM", "HTHT", "HTLD", "HTLF", "HTWR", "HUBG", "HURC", "HURN", "HWAY", "HWBK", "HWCC", "HWKN", "HYGS", "HYLS", "HYND", "HYZD", "HZNP", "IACI", "IART", "IBB", "IBCP", "IBKC", "IBKCP", "IBKR", "IBOC", "IBTX", "ICAD", "ICBK", "ICCC", "ICFI", "ICLD", "ICLDW", "ICLN", "ICLR", "ICON", "ICPT", "ICUI", "IDCC", "IDRA", "IDSA", "IDSY", "IDTI", "IDXX", "IEP", "IESC", "IEUS", "IFEU", "IFGL", "IFON", "IFV", "IGLD", "IGOV", "III", "IIIN", "IIJI", "IILG", "IIN", "IIVI", "IKGH", "IKNX", "ILMN", "IMDZ", "IMGN", "IMI", "IMKTA", "IMMR", "IMMU", "IMMY", "IMNP", "IMOS", "INAP", "INBK", "INCR", "INCY", "INDB", "INDY", "INFI", "INFN", "INGN", "ININ", "INNL", "INO", "INOD", "INOV", "INPH", "INSM", "INSY", "INTC", "INTG", "INTL", "INTLL", "INTU", "INTX", "INVE", "INVT", "INWK", "IOSP", "IPAR", "IPAS", "IPCC", "IPCI", "IPCM", "IPDN", "IPGP", "IPHS", "IPKW", "IPWR", "IPXL", "IQNT", "IRBT", "IRCP", "IRDM", "IRDMB", "IRG", "IRIX", "IRMD", "IROQ", "IRWD", "ISBC", "ISCA", "ISHG", "ISIG", "ISIL", "ISIS", "ISLE", "ISM", "ISNS", "ISRG", "ISRL", "ISSC", "ISSI", "ISTR", "ITCI", "ITEK", "ITIC", "ITRI", "ITRN", "ITUS", "IVAC", "IVTY", "IXYS", "JACK", "JAGX", "JAKK", "JASN", "JASNW", "JASO", "JAXB", "JAZZ", "JBHT", "JBLU", "JBSS", "JCOM", "JCS", "JCTCF", "JD", "JGBB", "JIVE", "JJSF", "JKHY", "JMBA", "JNP", "JOBS", "JOEZ", "JOUT", "JRJC", "JRVR", "JSM", "JST", "JTPY", "JUNO", "JVA", "JXSB", "JYNT", "KALU", "KANG", "KBAL", "KBIO", "KBSF", "KCAP", "KCLI", "KE", "KELYA", "KELYB", "KEQU", "KERX", "KEYW", "KFFB", "KFRC", "KGJI", "KHC", "KIN", "KINS", "KIRK", "KITE", "KLAC", "KLIC", "KLXI", "KMDA", "KMPH", "KNDI", "KONA", "KONE", "KOOL", "KOPN", "KOSS", "KPTI", "KRNT", "KRNY", "KTCC", "KTEC", "KTOS", "KTWO", "KUTV", "KVHI", "KWEB", "KYTH", "KZ", "LABL", "LAKE", "LALT", "LAMR", "LANC", "LAND", "LARK", "LAWS", "LAYN", "LBAI", "LBIO", "LBIX", "LBRDA", "LBRDK", "LBTYA", "LBTYB", "LBTYK", "LCNB", "LCUT", "LDRH", "LDRI", "LE", "LECO", "LEDS", "LENS", "LFUS", "LFVN", "LGCY", "LGCYO", "LGCYP", "LGIH", "LGND", "LHCG", "LIFE", "LILA", "LILAK", "LIME", "LINC", "LIND", "LINDW", "LINE", "LION", "LIOX", "LIQD", "LITE", "LIVE", "LJPC", "LKFN", "LKOR", "LKQ", "LLEX", "LLNW", "LLTC", "LMAT", "LMBS", "LMCA", "LMCB", "LMCK", "LMIA", "LMNR", "LMNS", "LMNX", "LMOS", "LMRK", "LNCE", "LNCO", "LNDC", "LNTH", "LOAN", "LOB", "LOCO", "LOGI", "LOGM", "LOJN", "LONG", "LOOK", "LOPE", "LORL", "LOXO", "LPCN", "LPLA", "LPNT", "LPSB", "LPSN", "LPTH", "LPTN", "LQDT", "LRAD", "LRCX", "LSBG", "LSBK", "LSCC", "LSTR", "LTBR", "LTRPA", "LTRPB", "LTRX", "LTXB", "LULU", "LUNA", "LVNTA", "LVNTB", "LWAY", "LXRX", "LYTS", "MACK", "MAGS", "MAMS", "MANH", "MANT", "MAR", "MARA", "MARK", "MARPS", "MASI", "MAT", "MATR", "MATW", "MAYS", "MB", "MBCN", "MBFI", "MBFIP", "MBII", "MBLX", "MBRG", "MBSD", "MBTF", "MBUU", "MBVT", "MBWM", "MCBC", "MCBK", "MCEP", "MCFT", "MCHP", "MCHX", "MCOX", "MCRB", "MCRI", "MCUR", "MDAS", "MDCA", "MDCO", "MDGS", "MDIV", "MDLZ", "MDM", "MDRX", "MDSO", "MDSY", "MDVN", "MDVX", "MDVXW", "MDWD", "MDXG", "MEET", "MEIL", "MEILW", "MEILZ", "MEIP", "MELA", "MELI", "MELR", "MEMP", "MENT", "MEOH", "MERC", "MESG", "METR", "MFLX", "MFNC", "MFRI", "MFRM", "MFSF", "MGCD", "MGEE", "MGI", "MGIC", "MGLN", "MGNX", "MGPI", "MGRC", "MGYR", "MHGC", "MHLD", "MHLDO", "MICT", "MICTW", "MIDD", "MIFI", "MIK", "MIND", "MINI", "MITK", "MITL", "MKSI", "MKTO", "MKTX", "MLAB", "MLHR", "MLNK", "MLNX", "MLVF", "MMAC", "MMLP", "MMSI", "MMYT", "MNDO", "MNGA", "MNKD", "MNOV", "MNRK", "MNRO", "MNST", "MNTA", "MNTX", "MOBI", "MOBL", "MOCO", "MOFG", "MOKO", "MOLG", "MOMO", "MORN", "MOSY", "MPAA", "MPB", "MPEL", "MPET", "MPWR", "MRCC", "MRCY", "MRD", "MRGE", "MRKT", "MRLN", "MRNS", "MRTN", "MRTX", "MRVC", "MRVL", "MSBF", "MSCC", "MSEX", "MSFG", "MSFT", "MSLI", "MSON", "MSTR", "MTBC", "MTEX", "MTGE", "MTGEP", "MTLS", "MTRX", "MTSC", "MTSI", "MTSL", "MTSN", "MU", "MULT", "MVIS", "MXIM", "MXWL", "MYGN", "MYL", "MYOS", "MYRG", "MZOR", "NAII", "NAME", "NANO", "NATH", "NATI", "NATL", "NATR", "NAUH", "NAVG", "NAVI", "NBBC", "NBIX", "NBN", "NBRV", "NBTB", "NCIT", "NCLH", "NCMI", "NCOM", "NCTY", "NDAQ", "NDLS", "NDRM", "NDSN", "NECB", "NEO", "NEOG", "NEON", "NEOS", "NEOT", "NEPT", "NERV", "NETE", "NEWP", "NEWS", "NEWT", "NEWTZ", "NFBK", "NFEC", "NFLX", "NGHC", "NGHCO", "NGHCP", "NGHCZ", "NHLD", "NHTC", "NICE", "NICK", "NIHD", "NILE", "NK", "NKSH", "NKTR", "NLNK", "NLST", "NMIH", "NMRX", "NNBR", "NPBC", "NRCIA", "NRCIB", "NRIM", "NRX", "NSEC", "NSIT", "NSPH", "NSSC", "NSTG", "NSYS", "NTAP", "NTCT", "NTEC", "NTES", "NTGR", "NTIC", "NTK", "NTLS", "NTRA", "NTRI", "NTRS", "NTRSP", "NTWK", "NUAN", "NURO", "NUROW", "NUTR", "NUVA", "NVAX", "NVCN", "NVDA", "NVDQ", "NVEC", "NVEE", "NVET", "NVFY", "NVGN", "NVIV", "NVLS", "NVMI", "NVSL", "NWBI", "NWBO", "NWBOW", "NWFL", "NWLI", "NWPX", "NWS", "NWSA", "NXPI", "NXST", "NXTD", "NXTDW", "NXTM", "NYMT", "NYMTO", "NYMTP", "NYMX", "NYNY", "OBAS", "OBCI", "OCAT", "OCC", "OCFC", "OCLR", "OCLS", "OCLSW", "OCRX", "OCUL", "ODFL", "ODP", "OESX", "OFED", "OFIX", "OFLX", "OFS", "OGXI", "OHAI", "OHGI", "OHRP", "OIIM", "OKSB", "OLBK", "OLED", "OLLI", "OMAB", "OMCL", "OMED", "OMER", "OMEX", "ON", "ONB", "ONCE", "ONCS", "ONCY", "ONEQ", "ONFC", "ONTX", "ONTY", "ONVI", "OPB", "OPGN", "OPGNW", "OPHC", "OPHT", "OPOF", "OPTT", "OPXA", "OPXAW", "ORBC", "ORBK", "OREX", "ORIG", "ORIT", "ORLY", "ORMP", "ORPN", "ORRF", "OSBC", "OSBCP", "OSHC", "OSIR", "OSIS", "OSM", "OSN", "OSTK", "OSUR", "OTEL", "OTEX", "OTIC", "OTIV", "OTTR", "OUTR", "OVAS", "OVBC", "OVLY", "OVTI", "OXBR", "OXBRW", "OXFD", "OXGN", "OXLC", "OXLCN", "OXLCO", "OZRK", "PAAS", "PACB", "PACEU", "PACW", "PAGG", "PAHC", "PANL", "PARN", "PATI", "PATK", "PAYX", "PBCP", "PBCT", "PBHC", "PBIB", "PBIP", "PBMD", "PBPB", "PBSK", "PCAR", "PCBK", "PCCC", "PCH", "PCLN", "PCMI", "PCO", "PCOM", "PCRX", "PCTI", "PCTY", "PCYG", "PCYO", "PDBC", "PDCE", "PDCO", "PDEX", "PDFS", "PDII", "PDLI", "PDVW", "PEBK", "PEBO", "PEGA", "PEGI", "PEIX", "PENN", "PERF", "PERI", "PERY", "PESI", "PETS", "PETX", "PFBC", "PFBI", "PFBX", "PFIE", "PFIN", "PFIS", "PFLT", "PFMT", "PFPT", "PFSW", "PGC", "PGLC", "PGNX", "PGTI", "PHII", "PHIIK", "PHMD", "PICO", "PIH", "PINC", "PIRS", "PKBK", "PKOH", "PLAB", "PLAY", "PLBC", "PLCE", "PLCM", "PLKI", "PLNR", "PLPC", "PLPM", "PLTM", "PLUG", "PLUS", "PLXS", "PMBC", "PMCS", "PMD", "PME", "PNBK", "PNFP", "PNNT", "PNQI", "PNRA", "PNRG", "PNTR", "PODD", "POOL", "POPE", "POWI", "POWL", "POZN", "PPBI", "PPC", "PPHM", "PPHMP", "PPSI", "PRAA", "PRAH", "PRAN", "PRCP", "PRFT", "PRFZ", "PRGN", "PRGNL", "PRGS", "PRGX", "PRIM", "PRKR", "PRMW", "PROV", "PRPH", "PRQR", "PRSC", "PRSN", "PRSNW", "PRSS", "PRTA", "PRTK", "PRTO", "PRTS", "PRXI", "PRXL", "PRZM", "PSAU", "PSBH", "PSCC", "PSCD", "PSCE", "PSCF", "PSCH", "PSCI", "PSCM", "PSCT", "PSCU", "PSDV", "PSEC", "PSEM", "PSIX", "PSMT", "PSTB", "PSTI", "PSUN", "PTC", "PTCT", "PTEN", "PTIE", "PTLA", "PTNR", "PTSI", "PTX", "PTXP", "PUB", "PULB", "PULM", "PVBC", "PVTB", "PVTBP", "PWOD", "PWX", "PXLW", "PYDS", "PYPL", "PZZA", "QABA", "QADA", "QADB", "QAT", "QBAK", "QCCO", "QCLN", "QCOM", "QCRH", "QDEL", "QGEN", "QINC", "QIWI", "QKLS", "QLC", "QLGC", "QLIK", "QLTI", "QLYS", "QNST", "QPAC", "QPACU", "QPACW", "QQEW", "QQQ", "QQQC", "QQQX", "QQXT", "QRHC", "QRVO", "QSII", "QTEC", "QTNT", "QTNTW", "QTWW", "QUIK", "QUMU", "QUNR", "QURE", "QVCA", "QVCB", "QYLD", "RADA", "RAIL", "RAND", "RARE", "RAVE", "RAVN", "RBCAA", "RBCN", "RBPAA", "RCII", "RCKY", "RCMT", "RCON", "RCPI", "RDCM", "RDEN", "RDHL", "RDI", "RDIB", "RDNT", "RDUS", "RDVY", "RDWR", "RECN", "REDF", "REFR", "REGI", "REGN", "REIS", "RELL", "RELV", "RELY", "REMY", "RENT", "REPH", "RESN", "REXI", "REXX", "RFIL", "RGCO", "RGEN", "RGLD", "RGLS", "RGNX", "RGSE", "RIBT", "RIBTW", "RICK", "RIGL", "RILY", "RITT", "RITTW", "RIVR", "RJET", "RKDA", "RLJE", "RLOC", "RLOG", "RLYP", "RMBS", "RMCF", "RMGN", "RMTI", "RNET", "RNST", "RNWK", "ROBO", "ROCK", "ROIA", "ROIAK", "ROIC", "ROIQ", "ROIQU", "ROIQW", "ROKA", "ROLL", "ROSG", "ROST", "ROVI", "ROYL", "RP", "RPD", "RPRX", "RPRXW", "RPRXZ", "RPTP", "RPXC", "RRD", "RRGB", "RRM", "RSTI", "RSYS", "RTIX", "RTK", "RTRX", "RTTR", "RUN", "RUSHA", "RUSHB", "RUTH", "RVLT", "RVNC", "RVSB", "RWLK", "RXDX", "RXII", "RYAAY", "SAAS", "SABR", "SAEX", "SAFM", "SAFT", "SAGE", "SAIA", "SAJA", "SAL", "SALE", "SALM", "SAMG", "SANM", "SANW", "SASR", "SATS", "SAVE", "SBAC", "SBBX", "SBCF", "SBCP", "SBFG", "SBFGP", "SBGI", "SBLK", "SBLKL", "SBNY", "SBNYW", "SBRA", "SBRAP", "SBSA", "SBSI", "SBUX", "SCAI", "SCHL", "SCHN", "SCLN", "SCMP", "SCON", "SCOR", "SCSC", "SCSS", "SCTY", "SCVL", "SCYX", "SEAC", "SEDG", "SEED", "SEIC", "SEMI", "SENEA", "SENEB", "SEV", "SFBC", "SFBS", "SFLY", "SFM", "SFNC", "SFST", "SFXE", "SGBK", "SGC", "SGEN", "SGI", "SGMA", "SGMO", "SGMS", "SGNL", "SGNT", "SGOC", "SGRP", "SGYP", "SGYPU", "SGYPW", "SHBI", "SHEN", "SHIP", "SHLD", "SHLDW", "SHLM", "SHLO", "SHOO", "SHOR", "SHOS", "SHPG", "SIAL", "SIBC", "SIEB", "SIEN", "SIFI", "SIFY", "SIGI", "SIGM", "SILC", "SIMO", "SINA", "SINO", "SIRI", "SIRO", "SITO", "SIVB", "SIVBO", "SIXD", "SKBI", "SKIS", "SKLN", "SKLNU", "SKOR", "SKUL", "SKYS", "SKYW", "SKYY", "SLAB", "SLCT", "SLGN", "SLM", "SLMAP", "SLMBP", "SLP", "SLRC", "SLTC", "SLTD", "SLVO", "SMAC", "SMACR", "SMACU", "SMBC", "SMCI", "SMCP", "SMED", "SMIT", "SMLR", "SMMF", "SMMT", "SMRT", "SMSI", "SMT", "SMTC", "SMTP", "SMTX", "SNAK", "SNBC", "SNC", "SNCR", "SNDK", "SNFCA", "SNHY", "SNMX", "SNPS", "SNSS", "SNTA", "SOCB", "SOCL", "SODA", "SOFO", "SOHO", "SOHOL", "SOHOM", "SOHU", "SONA", "SONC", "SONS", "SORL", "SOXX", "SP", "SPAN", "SPAR", "SPCB", "SPDC", "SPEX", "SPHS", "SPIL", "SPKE", "SPLK", "SPLS", "SPNC", "SPNE", "SPNS", "SPOK", "SPPI", "SPRO", "SPRT", "SPSC", "SPTN", "SPU", "SPWH", "SPWR", "SQBG", "SQBK", "SQI", "SQNM", "SQQQ", "SRCE", "SRCL", "SRCLP", "SRDX", "SRET", "SREV", "SRNE", "SRPT", "SRSC", "SSB", "SSBI", "SSFN", "SSH", "SSNC", "SSRG", "SSRI", "SSYS", "STAA", "STAF", "STB", "STBA", "STBZ", "STCK", "STDY", "STEM", "STFC", "STKL", "STKS", "STLD", "STLY", "STML", "STMP", "STNR", "STPP", "STRA", "STRL", "STRM", "STRS", "STRT", "STRZA", "STRZB", "STX", "STXS", "STXSW", "SUBK", "SUMR", "SUNS", "SUPN", "SURG", "SVA", "SVBI", "SVVC", "SWHC", "SWIR", "SWKS", "SWSH", "SXCL", "SYBT", "SYKE", "SYMC", "SYMX", "SYNA", "SYNC", "SYNL", "SYNT", "SYPR", "SYRX", "SYUT", "SZMK", "SZYM", "TACO", "TACOW", "TACT", "TAIT", "TANH", "TAPR", "TASR", "TAST", "TATT", "TAX", "TAXI", "TAYD", "TBBK", "TBIO", "TBK", "TBNK", "TBPH", "TBRA", "TCBI", "TCBIL", "TCBIP", "TCBIW", "TCBK", "TCCO", "TCFC", "TCON", "TCPC", "TCRD", "TCX", "TDIV", "TEAR", "TECD", "TECH", "TEDU", "TENX", "TERP", "TESO", "TESS", "TFM", "TFSC", "TFSCR", "TFSCU", "TFSCW", "TFSL", "TGA", "TGEN", "TGLS", "TGTX", "THFF", "THLD", "THOR", "THRM", "THRX", "THST", "THTI", "TICC", "TIGR", "TIL", "TILE", "TINY", "TIPT", "TISA", "TITN", "TIVO", "TKAI", "TLF", "TLMR", "TLOG", "TNAV", "TNDM", "TNGO", "TNXP", "TOPS", "TOR", "TORM", "TOUR", "TOWN", "TQQQ", "TRAK", "TRCB", "TRCH", "TREE", "TRIB", "TRIL", "TRIP", "TRIV", "TRMB", "TRMK", "TRNS", "TRNX", "TROV", "TROVU", "TROVW", "TROW", "TRS", "TRST", "TRTL", "TRTLU", "TRTLW", "TRUE", "TRVN", "TSBK", "TSC", "TSCO", "TSEM", "TSLA", "TSRA", "TSRI", "TSRO", "TST", "TSYS", "TTEC", "TTEK", "TTGT", "TTHI", "TTMI", "TTOO", "TTPH", "TTS", "TTWO", "TUBE", "TUES", "TUSA", "TUTI", "TUTT", "TVIX", "TVIZ", "TW", "TWER", "TWIN", "TWMC", "TWOU", "TXN", "TXRH", "TYPE", "TZOO", "UACL", "UAE", "UBCP", "UBFO", "UBIC", "UBIO", "UBND", "UBNK", "UBNT", "UBOH", "UBSH", "UBSI", "UCBA", "UCBI", "UCFC", "UCTT", "UDF", "UEIC", "UEPS", "UFCS", "UFPI", "UFPT", "UG", "UGLD", "UHAL", "UIHC", "UK", "ULBI", "ULTA", "ULTI", "ULTR", "UMBF", "UMPQ", "UNAM", "UNB", "UNFI", "UNIS", "UNTD", "UNTY", "UNXL", "UPIP", "UPLD", "URBN", "URRE", "USAK", "USAP", "USAT", "USATP", "USBI", "USCR", "USEG", "USLM", "USLV", "USMD", "UTEK", "UTES", "UTHR", "UTIW", "UTMD", "UTSI", "UVSP", "VA", "VALU", "VALX", "VASC", "VBFC", "VBIV", "VBLT", "VBND", "VBTX", "VCEL", "VCIT", "VCLT", "VCSH", "VCYT", "VDSI", "VDTH", "VECO", "VGGL", "VGIT", "VGLT", "VGSH", "VIA", "VIAB", "VIAV", "VICL", "VICR", "VIDI", "VIIX", "VIIZ", "VIMC", "VIP", "VIRC", "VIRT", "VISN", "VIVO", "VKTX", "VLGEA", "VLTC", "VMBS", "VNDA", "VNET", "VNOM", "VNQI", "VNR", "VNRAP", "VNRBP", "VNRCP", "VOD", "VONE", "VONG", "VONV", "VOXX", "VPCO", "VPCOU", "VRA", "VRML", "VRNG", "VRNS", "VRNT", "VRSK", "VRSN", "VRTA", "VRTB", "VRTS", "VRTU", "VRTX", "VSAR", "VSAT", "VSCP", "VSEC", "VSTM", "VTAE", "VTHR", "VTIP", "VTL", "VTNR", "VTVT", "VTWG", "VTWO", "VTWV", "VUSE", "VUZI", "VVUS", "VWOB", "VWR", "VXDN", "VXUP", "VXUS", "WABC", "WAFD", "WAFDW", "WASH", "WATT", "WAVX", "WAYN", "WB", "WBA", "WBB", "WBKC", "WBMD", "WDC", "WDFC", "WEBK", "WEN", "WERN", "WETF", "WEYS", "WFBI", "WFD", "WFM", "WGBS", "WHF", "WHFBL", "WHLM", "WHLR", "WHLRP", "WHLRW", "WIBC", "WIFI", "WILC", "WILN", "WIN", "WINA", "WING", "WIRE", "WIX", "WLB", "WLDN", "WLFC", "WLRH", "WLRHU", "WLRHW", "WMAR", "WMGI", "WMGIZ", "WMIH", "WOOD", "WOOF", "WOWO", "WPCS", "WPPGY", "WPRT", "WRES", "WRLD", "WSBC", "WSBF", "WSCI", "WSFS", "WSFSL", "WSTC", "WSTG", "WSTL", "WTBA", "WTFC", "WTFCM", "WTFCW", "WVFC", "WVVI", "WWD", "WWWW", "WYIG", "WYIGU", "WYIGW", "WYNN", "XBIT", "XBKS", "XCRA", "XELB", "XENE", "XENT", "XGTI", "XGTIW", "XIV", "XLNX", "XLRN", "XNCR", "XNET", "XNPT", "XOMA", "XONE", "XOOM", "XPLR", "XRAY", "XTLB", "XXIA", "YCB", "YDIV", "YDLE", "YECO", "YHOO", "YLCO", "YNDX", "YOD", "YORW", "YPRO", "YRCW", "YY", "Z", "ZAGG", "ZAIS", "ZAZA", "ZBIO", "ZBRA", "ZEUS", "ZFGN", "ZG", "ZGNX", "ZHNE", "ZINC", "ZION", "ZIONW", "ZIONZ", "ZIOP", "ZIV", "ZIXI", "ZJZZT", "ZLTQ", "ZN", "ZNGA", "ZNWAA", "ZSAN", "ZSPH", "ZU", "ZUMZ", "ZVZZT", "ZWZZT", "ZXYZ.A", "ZXZZT", "ZYNE"].sample
      end while (StockQuote::Stock.history(a, Date.today - 1.year, Date.today).try(:failure?) rescue nil)
      ticker a
    end
    trait :with_real_prices do
      prices { StockQuote::Stock.history(ticker, Date.today - 1.year, Date.today).sort_by {|quote| quote.date }.map {|quote| [ quote.date.to_time.to_i*1000, quote.close.round(2) ] } }   
    end
    trait :with_negative_1eps do
      after(:create) do |stock|
        (0..1).each do |y|
          (0..3).each do |q|
            create(:earning, q: 4 - q, y: Date.today.year - y, report: Date.today - q*90 - y*365, eps: -1, revenue: rand((250-20*q-80*y)..(400-20*q-80*y)), stock: stock)
          end
        end
      end
    end
    trait :with_1eps do
      after(:create) do |stock|
        (0..1).each do |y|
          (0..3).each do |q|
            create(:earning, q: 4 - q, y: Date.today.year - y, report: Date.today - q*90 - y*365, eps: 1, revenue: rand((250-20*q-80*y)..(400-20*q-80*y)), stock: stock)
          end
        end
      end
    end
    trait :with_0eps do
      after(:create) do |stock|
        (0..1).each do |y|
          (0..3).each do |q|
            create(:earning, q: 4 - q, y: Date.today.year - y, report: Date.today - q*90 - y*365, eps: 0, revenue: rand((250-20*q-80*y)..(400-20*q-80*y)), stock: stock)
          end
        end
      end
    end
    trait :with_3q_earnings do
      after(:create) do |stock|
        (1..3).each do |q|
          create(:earning, q: 4 - q, y: Date.today.year, report: Date.today - q*90, eps: 1, revenue: rand((250-20*q)..(400-20*q)), stock: stock)
        end
      end
    end
    trait :with_some_prices do
      prices [[1412553600000, 54.81], [1412640000000, 54.69], [1412726400000, 55.94], [1412812800000, 55.24], [1412899200000, 56.8], [1413158400000, 58.07], [1413244800000, 58.98], [1413331200000, 59.51], [1413417600000, 59.38]]
    end
  end
end